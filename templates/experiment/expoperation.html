<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <title>实验操作</title>
    {% load staticfiles %}
    <!-- 初始化CSS -->
    <link href="{% static 'plugin/swiper.css' %}">
    <link rel="stylesheet" href="{% static 'plugin/res.css'%}">
    <link rel="stylesheet" type="text/css" href="{% static 'sass/public.css'%}">
    <link rel="stylesheet" href="{% static 'plugin/zane-calendar.min.css'%}">
    <!-- 模块css -->
    <link rel="stylesheet" type="text/css" href="{% static 'sass/expsetting.css'%}">
    <style>
        .navtip4 > a {
            color: #0055ff !important;
        }
    </style>

</head>
<body>
<div class="topwall">
    <div class="top2">
        <img class="l_float logo" src="../../static/img/logo.png" alt="">
        <div class="l_float title">机械制造虚拟实验室</div>
        <div class="l_float userlog"></div>
        <div class="l_float username">王小明</div>
        <div class="l_float loginbtn">退出登录</div>
    </div>
</div>

<div class="wall5">
    <div class="addnewexptit">工件材料对切削力的影响</div>
    <div class="addnewexpschedulebox">
        <div class="addnewexpschedule selsct">基础参数设置</div>
        <div class="line selsct">-></div>
        <div class="addnewexpschedule selsct">背吃刀量对切削力的影响</div>
        <div class="line">-></div>
        <div class="addnewexpschedule">进给量对切削力的影响</div>
        <div class="line">-></div>
        <div class="addnewexpschedule">切削速度对切削力的影响</div>
    </div>
    <div class="operationbox">
        <div class="left">
            <div class="boximg boximg1">
                <canvas id="main_view" width="800" height="400" style="border:2px solid #777;"> </canvas>
            </div>
            <div class="boximg boximg2">
                <div class="leftboximg">
                    <canvas id="r_view" width="400" height="400" style="border:2px solid #777;"> </canvas>
                </div>
                <div class="rightboximg">
                    <canvas id="text" width="400" height="400" style="border:2px solid #777;"> </canvas>
                </div>
            </div>
{#            <div class="boximg boximg3">#}
{#                <img src="../../static/img/loginbg.png" alt="">#}
{#            </div>#}
        </div>
        <div class="right">
            <div class="rtit">控制面板</div>
            <div class="unitbox">
                <div class="unit">
                    <div class="uleft">加工形式  -</div>
                    <div class="uright">
                        <div class="utxt">外圆纵车</div>
                    </div>
                </div>
                <div class="unit">
                    <div class="uleft">工件参数  -</div>
                    <div class="uright">
                        <div class="utxt">工件半径：50mm</div>
                        <div class="utxt">工件长度：700mm</div>
                    </div>
                </div>
                <div class="unit">
                    <div class="uleft">刀具参数  -</div>
                    <div class="uright">
                        <div class="utxt">刀具材料：硬质合金</div>
                        <div class="utxt">主偏角：45°</div>
                        <div class="utxt">前角：10°</div>
                        <div class="utxt">刃倾角：10°</div>
                        <div class="utxt">刀尖圆弧半径：0.75mm</div>
                    </div>
                </div>
            </div>
            <!--刻度尺-->
            <div class="rangebox">
                <p class="rtit">切削用量</p>
                <div class="runitbox">
                    <div class="rutit">机床主轴转速：</div>
                    <div class="scale">
                        <form oninput="scaleShow.value=parseInt(scale.value)">
                            <input value="0" type="range" id="rot_speed_scale" min="50" max="1600"/>
{#                            <output value="0" name="scaleShow" for="scale"></output>#}
                        </form>
                        <em class="red2">110mm</em>
                    </div>
                </div>
                <div class="runitbox">
                    <div class="rutit">进给量：</div>
                    <div class="scale">
                        <form oninput="scaleShow.value=parseInt(scale.value)">
                            <input value="0" type="range" id="feed_rate_scale" min="0.1" max="2"/>
{#                            <output value="0" name="scaleShow" for="scale"></output>#}
                        </form>
                        <em class="red2">10omm</em>
                    </div>
                </div>
                <div class="runitbox">
                    <div class="rutit">背吃刀量（为保证实验效果，请尽可能分散取值）</div>
                    <p class="runm">(1)</p>
                    <div class="scale">
                        <form oninput="scaleShow.value=parseInt(scale.value)">
                            <input value="0" type="range" id="cutting_depth_scale" min="1" max="6"/>
{#                            <output value="0" name="scaleShow" for="scale"></output>#}
                        </form>
                        <em class="red2">110mm</em>
                    </div>
                </div>
            </div>
            <div class="obtnbox">
                <div id="start" class="obtn start">启动</div>
            </div>
        </div>

    </div>
    <div class="btnbox">
        <div class="btn btnleft">保存实验结果</div>
        <div class="btn btnright">下一步</div>
    </div>
</div>
<div class="footer">
    <div class="fbox">
        <div class="tip1">地址：深圳市南山区桃源街道深圳大学城哈尔滨工业大学校区</div>
        <div class="tip2">邮编：518055</div>
        <div class="tip3">网站版权所有 ©2018 哈尔滨工业大学(深圳)</div>
        <div class="tip4">粤ICP 备15069706号-1</div>
    </div>

</div>
</body>
<!-- 引用插件 -->
<script src="{% static 'js/public.js' %}"></script>
<script src="{% static 'plugin/config.js' %}"></script>
<script src="{% static 'plugin/jquery.js' %}"></script>
<script src="{% static 'plugin/jquery.cookie.js' %}"></script>
<script src="{% static 'plugin/md5.js' %}"></script>
<script src="{% static 'js/experiment/main_view.js' %}"></script>

<script src="{% static 'js/experiment/jcanvas.min.js' %}"></script>
<script src="{% static 'js/experiment/readcookies.js' %}"></script>

<script>


    cutting_depth=parseFloat($("#cutting_depth_scale").val());
    feed_rate=parseFloat($("#feed_rate_scale").val());
    rot_speed=parseFloat($("#rot_speed_scale").val());

    {#alert(workpiece_material+"~~"+workpiece_r+"~~"+workpiece_l+"~~"+cutting_depth+"~~"+feed_rate+"~~"+rot_speed+"~~"+tool_cutting_edge_angle+"~~"+tool_minor_cutting_edge_angle+"~~"+tool_cutting_edge_inclination_angle+"~~"+rake_angle+"~~"+clearance_angle+"~~"+minor_clearance_angle+"~~"+corner_radius);#}


    start_render('expoeration_0',workpiece_material,workpiece_r,workpiece_l,cutting_depth,feed_rate,rot_speed,tool_cutting_edge_angle,tool_minor_cutting_edge_angle,tool_cutting_edge_inclination_angle,rake_angle,clearance_angle,minor_clearance_angle,corner_radius);
    stop_render('expoeration_0',workpiece_material,workpiece_r,workpiece_l,cutting_depth,feed_rate,rot_speed,tool_cutting_edge_angle,tool_minor_cutting_edge_angle,tool_cutting_edge_inclination_angle,rake_angle,clearance_angle,minor_clearance_angle,corner_radius);

    //按钮绑定事件
    var button_status=1;
    $('#start').on("click",function(){
        cutting_depth=parseFloat($("#cutting_depth_scale").val());
        feed_rate=parseFloat($("#feed_rate_scale").val());
        rot_speed=parseFloat($("#rot_speed_scale").val());


        if (button_status==1){
            $('#start').text("停止");
            button_status=0;
            start_render('expoeration_0',workpiece_material,workpiece_r,workpiece_l,cutting_depth,feed_rate,rot_speed,tool_cutting_edge_angle,tool_minor_cutting_edge_angle,tool_cutting_edge_inclination_angle,rake_angle,clearance_angle,minor_clearance_angle,corner_radius);
        }
        else {
            $('#start').text("启动");
            button_status=1;
            stop_render('expoeration_0',workpiece_material,workpiece_r,workpiece_l,cutting_depth,feed_rate,rot_speed,tool_cutting_edge_angle,tool_minor_cutting_edge_angle,tool_cutting_edge_inclination_angle,rake_angle,clearance_angle,minor_clearance_angle,corner_radius);

        }

    });
</script>
</html>
